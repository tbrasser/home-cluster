apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: traefik
spec:
  releaseName: traefik
  chart:
    spec:
      chart: traefik
      sourceRef:
        kind: HelmRepository
        name: traefik
        namespace: flux-system
  interval: 5m
  install:
    remediation:
      retries: 3
  values:
    deployment:
      enabled: true
      kind: DaemonSet
    service:
      enabled: true
      type: LoadBalancer
      # Additional annotations applied to both TCP and UDP services (e.g. for cloud provider specific config)
      annotations: {}
      # Additional annotations for TCP service only
      annotationsTCP: {}
      # Additional annotations for UDP service only
      annotationsUDP: {}
      # Additional service labels (e.g. for filtering Service by custom labels)
      labels: {}
      # Additional entries here will be added to the service spec.
      # Cannot contain type, selector or ports entries.
      spec: {}
        # externalTrafficPolicy: Cluster
        # loadBalancerIP: "1.2.3.4"
        # clusterIP: "2.3.4.5"
      loadBalancerSourceRanges: []
        # - 192.168.0.1/32
        # - 172.16.0.0/16
      externalIPs: 
        - 10.9.8.200